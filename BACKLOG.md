# üìã BACKLOG: –ó–∞–¥–∞—á–∏ –¥–ª—è –±—É–¥—É—â–µ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

> **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π.  
> **–°—Ç–∞—Ç—É—Å:** –í—Å–µ –∑–∞–¥–∞—á–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ **–ó–ê–ü–õ–ê–ù–ò–†–û–í–ê–ù–û** (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ).  
> **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** November 19, 2024

---

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [BACKLOG-001](#backlog-001-–¥–æ–±–∞–≤–∏—Ç—å-–ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π-—É—Ä–æ–≤–µ–Ω—å-sudo-—á–µ—Ä–µ–∑-—Ç—É–∑) - –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å sudo —á–µ—Ä–µ–∑ –¢–£–ó
- [BACKLOG-002](#backlog-002-–º–∏–≥—Ä–∞—Ü–∏—è-–Ω–∞-–ø—Ä—è–º–æ–π-ssh-–ø–æ–¥-—Ç—É–∑) - –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –ø—Ä—è–º–æ–π SSH –ø–æ–¥ –¢–£–ó

---

# BACKLOG-001: –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å sudo —á–µ—Ä–µ–∑ –¢–£–ó

## üìä –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **ID** | BACKLOG-001 |
| **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç** | –°—Ä–µ–¥–Ω–∏–π |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å** | –°—Ä–µ–¥–Ω—è—è |
| **–°—Ç–∞—Ç—É—Å** | ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ |
| **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** | –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ sudoers —á–µ—Ä–µ–∑ IDM |
| **–°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏** | BACKLOG-002 |
| **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è** | November 19, 2024 |
| **–ü–ª–∞–Ω–æ–≤–∞—è –¥–∞—Ç–∞** | TBD |

---

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–í–∞—Ä–∏–∞–Ω—Ç B - —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π)

```
Jenkins Pipeline (SSH key –¥–ª—è mvp_dev)
    ‚Üì
SSH ‚Üí mvp_dev@server (sudo NOPASSWD: ALL)
    ‚Üì
sudo -u {KAE_STEND}-lnx-mon_sys -g {KAE_STEND}-lnx-mon_sys (–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç –°–£–ó)
```

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
ssh mvp_dev@server "sudo -u CI10742292-lnx-mon_sys -g CI10742292-lnx-mon_sys mkdir -p /dev/shm/monitoring_secrets"
```

### –ü—Ä–æ–±–ª–µ–º—ã —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ø–æ–ª–Ω–æ–º–æ—á–∏–π:**
   - Jenkins –Ω–∞–ø—Ä—è–º—É—é –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã –æ—Ç –°–£–ó —á–µ—Ä–µ–∑ `mvp_dev`
   - –ù–µ—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è —á–µ—Ä–µ–∑ –¢–£–ó (CI/CD –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)

2. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —à–∏—Ä–æ–∫–∏—Ö –ø—Ä–∞–≤ `mvp_dev`:**
   - –ü–æ–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞ `mvp_dev ALL=(ALL) NOPASSWD: ALL`
   - –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —è–≤–Ω—ã–µ sudoers –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –¢–£–ó

3. **–ú–µ–Ω–µ–µ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π audit trail:**
   - –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ —Ç–æ–ª—å–∫–æ `mvp_dev ‚Üí SYS_USER`
   - –ù–µ–ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –æ—Ç CI/CD

### –¶–µ–ª–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–í–∞—Ä–∏–∞–Ω—Ç A - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π)

```
Jenkins Pipeline (SSH key –¥–ª—è mvp_dev)
    ‚Üì
SSH ‚Üí mvp_dev@server (sudo NOPASSWD: ALL)
    ‚Üì
sudo -u {KAE_STEND}-lnx-mon_ci (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –¢–£–ó)
    ‚Üì
sudo -u {KAE_STEND}-lnx-mon_sys -g {KAE_STEND}-lnx-mon_sys (–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç –°–£–ó)
```

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
ssh mvp_dev@server "sudo -u CI10742292-lnx-mon_ci sudo -u CI10742292-lnx-mon_sys -g CI10742292-lnx-mon_sys mkdir -p /dev/shm/monitoring_secrets"
```

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

1. **–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π:**
   - `mvp_dev` ‚Üí —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–ª—è SSH
   - `CI10742292-lnx-mon_ci` ‚Üí –¢–£–ó –¥–ª—è CI/CD –¥–µ–π—Å—Ç–≤–∏–π
   - `CI10742292-lnx-mon_sys` ‚Üí –°–£–ó –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

2. **–Ø–≤–Ω—ã–µ sudoers –ø—Ä–∞–≤–∏–ª–∞:**
   - –¢–£–ó –∏–º–µ–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–∞–≤–∞ (–ø—Ä–∏–Ω—Ü–∏–ø –Ω–∞–∏–º–µ–Ω—å—à–∏—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π)
   - –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —è–≤–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –±–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

3. **–õ—É—á—à–∏–π audit trail:**
   - –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ: `mvp_dev ‚Üí CI_USER ‚Üí SYS_USER`
   - –ü–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –æ—Ç CI/CD

4. **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ best practices:**
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
   - –ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –∏–º–µ–µ—Ç —á–µ—Ç–∫—É—é –∑–æ–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

---

## üìù –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ sudoers —Ñ–∞–π–ª–æ–≤

**–î–µ–π—Å—Ç–≤–∏–µ:** –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å sudoers –¥–ª—è –≤–∞—à–µ–≥–æ —Å—Ç–µ–Ω–¥–∞

```bash
cd secure_deployment/sudoers
./generate_sudoers.sh <NAMESPACE_CI>
```

**–ü—Ä–∏–º–µ—Ä:**
```bash
./generate_sudoers.sh CI04523276_CI10742292
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
generated/
‚îú‚îÄ‚îÄ CI10742292-lnx-mon_ci      # –¢–£–ó (CI/CD)
‚îú‚îÄ‚îÄ CI10742292-lnx-mon_admin   # –ü–£–ó (–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)
‚îî‚îÄ‚îÄ CI10742292-lnx-mon_ro      # ReadOnly
```

---

### –≠—Ç–∞–ø 2: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ IDM

**–î–ª—è `CI10742292-lnx-mon_ci` (–¢–£–ó):**

1. –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª `generated/CI10742292-lnx-mon_ci`
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å **–ø–æ–ª–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ**
3. –í IDM:
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `CI10742292-lnx-mon_ci`
   - –†–∞–∑–¥–µ–ª: "–ü—Ä–∞–≤–∞ sudo"
   - –í—Å—Ç–∞–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
   - –°–µ—Ä–≤–µ—Ä—ã: —É–∫–∞–∑–∞—Ç—å —Å–µ—Ä–≤–µ—Ä—ã —Å—Ç–µ–Ω–¥–∞
4. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∞–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã:**

```sudoers
# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –°–£–ó
CI10742292-lnx-mon_ci ALL=(CI10742292-lnx-mon_sys) NOPASSWD: ALL

# –†–∞–±–æ—Ç–∞ —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏ –æ—Ç –∏–º–µ–Ω–∏ –°–£–ó
CI10742292-lnx-mon_ci ALL=(CI10742292-lnx-mon_sys:CI10742292-lnx-mon_sys) NOPASSWD: /usr/bin/mkdir -p /dev/shm/monitoring_secrets
CI10742292-lnx-mon_ci ALL=(CI10742292-lnx-mon_sys:CI10742292-lnx-mon_sys) NOPASSWD: /usr/bin/chmod 700 /dev/shm/monitoring_secrets
CI10742292-lnx-mon_ci ALL=(CI10742292-lnx-mon_sys:CI10742292-lnx-mon_sys) NOPASSWD: /usr/bin/chmod 770 /dev/shm/monitoring_secrets
CI10742292-lnx-mon_ci ALL=(CI10742292-lnx-mon_sys:CI10742292-lnx-mon_sys) NOPASSWD: /usr/bin/chown -R CI10742292-lnx-mon_ci\:CI10742292-lnx-mon_sys /dev/shm/monitoring_secrets
CI10742292-lnx-mon_ci ALL=(CI10742292-lnx-mon_sys:CI10742292-lnx-mon_sys) NOPASSWD: /usr/bin/chown -R CI10742292-lnx-mon_sys\:CI10742292-lnx-mon_sys /dev/shm/monitoring_secrets
CI10742292-lnx-mon_ci ALL=(CI10742292-lnx-mon_sys:CI10742292-lnx-mon_sys) NOPASSWD: /usr/bin/chmod 600 /dev/shm/monitoring_secrets/secrets.json
CI10742292-lnx-mon_ci ALL=(CI10742292-lnx-mon_sys:CI10742292-lnx-mon_sys) NOPASSWD: /usr/bin/bash -c *
CI10742292-lnx-mon_ci ALL=(CI10742292-lnx-mon_sys:CI10742292-lnx-mon_sys) NOPASSWD: /usr/bin/bash

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ systemd services –æ—Ç –∏–º–µ–Ω–∏ –°–£–ó
CI10742292-lnx-mon_ci ALL=(CI10742292-lnx-mon_sys:CI10742292-lnx-mon_sys) NOPASSWD: /usr/bin/systemctl --user daemon-reload
CI10742292-lnx-mon_ci ALL=(CI10742292-lnx-mon_sys:CI10742292-lnx-mon_sys) NOPASSWD: NOEXEC: /usr/bin/systemctl --user status *
CI10742292-lnx-mon_ci ALL=(CI10742292-lnx-mon_sys:CI10742292-lnx-mon_sys) NOPASSWD: /usr/bin/systemctl --user start *
CI10742292-lnx-mon_ci ALL=(CI10742292-lnx-mon_sys:CI10742292-lnx-mon_sys) NOPASSWD: /usr/bin/systemctl --user stop *
CI10742292-lnx-mon_ci ALL=(CI10742292-lnx-mon_sys:CI10742292-lnx-mon_sys) NOPASSWD: /usr/bin/systemctl --user restart *
```

**–í—Ä–µ–º—è:** ~15 –º–∏–Ω—É—Ç + —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ IDM (1-3 –¥–Ω—è)

---

### –≠—Ç–∞–ø 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

–ü–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è –∑–∞—è–≤–∫–∏:

```bash
# SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh your-server

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª sudoers
sudo cat /etc/sudoers.d/CI10742292-lnx-mon_ci

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
sudo visudo -c -f /etc/sudoers.d/CI10742292-lnx-mon_ci
# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥: parsed OK

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤
sudo -i -u CI10742292-lnx-mon_ci
sudo -u CI10742292-lnx-mon_sys -g CI10742292-lnx-mon_sys whoami
# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥: CI10742292-lnx-mon_sys
```

---

### –≠—Ç–∞–ø 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Jenkinsfile

**–§–∞–π–ª:** `secure_deployment/Jenkinsfile`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `transfer_secrets.sh`:**

```diff
- echo "[INFO] –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ /dev/shm (—á–µ—Ä–µ–∑ sudo -u SYS_USER)..."
+ echo "[INFO] –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ /dev/shm (—á–µ—Ä–µ–∑ –¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—ã–π sudo)..."

- ssh ... "sudo -u ${env.USER_SYS} -g ${env.USER_SYS} mkdir -p ${REMOTE_SECRETS_DIR}"
+ ssh ... "sudo -u ${env.USER_CI} sudo -u ${env.USER_SYS} -g ${env.USER_SYS} mkdir -p ${REMOTE_SECRETS_DIR}"

- ssh ... "sudo -u ${env.USER_SYS} -g ${env.USER_SYS} chmod 770 ${REMOTE_SECRETS_DIR}"
+ ssh ... "sudo -u ${env.USER_CI} sudo -u ${env.USER_SYS} -g ${env.USER_SYS} chmod 770 ${REMOTE_SECRETS_DIR}"

- ssh ... "sudo -u ${env.USER_SYS} -g ${env.USER_SYS} chown ${env.USER_CI}:${env.USER_SYS} ${REMOTE_SECRETS_DIR}"
+ ssh ... "sudo -u ${env.USER_CI} sudo -u ${env.USER_SYS} -g ${env.USER_SYS} chown ${env.USER_CI}:${env.USER_SYS} ${REMOTE_SECRETS_DIR}"
```

**–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è:**
- –ü–µ—Ä–µ–¥–∞—á–∏ secrets.json —á–µ—Ä–µ–∑ pipe (—Å—Ç—Ä–æ–∫–∞ ~791)
- –£—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö –ø—Ä–∞–≤ (—Å—Ç—Ä–æ–∫–∞ ~808-813)
- –†–∞—Å–ø–∞–∫–æ–≤–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã (—Å—Ç—Ä–æ–∫–∞ ~819)
- –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤ (—Å—Ç—Ä–æ–∫–∞ ~951-953)

**–í—Å–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:** ~9 –∫–æ–º–∞–Ω–¥

---

### –≠—Ç–∞–ø 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å Jenkins Pipeline
Pipeline: deploy_monitoring
NAMESPACE_CI: CI04523276_CI10742292
DEBUG: true

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ - –æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
[INFO] –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ /dev/shm (—á–µ—Ä–µ–∑ –¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—ã–π sudo)...
‚úì SUCCESS

[INFO] –ü–µ—Ä–µ–¥–∞—á–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ SSH pipe (—á–µ—Ä–µ–∑ –¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—ã–π sudo)...
‚úì SUCCESS

[INFO] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö –ø—Ä–∞–≤ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ —Ñ–∞–π–ª —Å–µ–∫—Ä–µ—Ç–æ–≤...
‚úì SUCCESS
```

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- **–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ sudoers:** `docs/SUDOERS_DEPLOYMENT_GUIDE.md`
- **–°–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:** `sudoers/generate_sudoers.sh`
- **Templates:** `sudoers/monitoring_ci.template`
- **–û—Ç—á–µ—Ç –æ –º–∏–≥—Ä–∞—Ü–∏–∏ sg ‚Üí sudo:** `SG_TO_SUDO_MIGRATION_SUMMARY.md`

---

## üöß –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-------------|---------|-----------|
| –î–æ–ª–≥–æ–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ IDM | –í—ã—Å–æ–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | –ù–∞—á–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –∑–∞—Ä–∞–Ω–µ–µ |
| –û—à–∏–±–∫–∞ –≤ sudoers –ø—Ä–∞–≤–∏–ª–∞—Ö | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ dev-—Å—Ç–µ–Ω–¥–µ |
| –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π | –ù–∏–∑–∫–∞—è | –í—ã—Å–æ–∫–æ–µ | Rollback plan –≥–æ—Ç–æ–≤ |

---

## üîÑ Rollback –ø–ª–∞–Ω

**–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:**

1. –í–µ—Ä–Ω—É—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Jenkinsfile:
   ```bash
   git revert <commit-hash>
   git push
   ```

2. Pipeline –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π (–í–∞—Ä–∏–∞–Ω—Ç B)

3. Sudoers –ø—Ä–∞–≤–∏–ª–∞ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å (–æ–Ω–∏ –Ω–µ –º–µ—à–∞—é—Ç —Ç–µ–∫—É—â–µ–π —Ä–∞–±–æ—Ç–µ)

**–í—Ä–µ–º—è rollback:** < 5 –º–∏–Ω—É—Ç

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [ ] Sudoers –ø—Ä–∞–≤–∏–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è —Å—Ç–µ–Ω–¥–∞
- [ ] –ó–∞—è–≤–∫–∞ –≤ IDM —Å–æ–∑–¥–∞–Ω–∞ –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∞
- [ ] –ü—Ä–∞–≤–∞ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã –Ω–∞ —Ü–µ–ª–µ–≤—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö
- [ ] –°–∏–Ω—Ç–∞–∫—Å–∏—Å sudoers –ø—Ä–æ–≤–µ—Ä–µ–Ω (`visudo -c`)
- [ ] –ü—Ä–∞–≤–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Ä—É—á–Ω—É—é
- [ ] Jenkinsfile –æ–±–Ω–æ–≤–ª–µ–Ω
- [ ] Pipeline —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—à–µ–ª —Å DEBUG=true
- [ ] –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã –ø–æ—Å–ª–µ deploy

---

## üéâ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
- ‚úÖ –ë–æ–ª–µ–µ —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–º–æ—á–∏–π
- ‚úÖ –Ø–≤–Ω—ã–µ sudoers –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑ —à–∏—Ä–æ–∫–∏—Ö –ø—Ä–∞–≤
- ‚úÖ –õ—É—á—à–∏–π audit trail (mvp_dev ‚Üí CI_USER ‚Üí SYS_USER)
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º best practices
- ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ BACKLOG-002 (–ø—Ä—è–º–æ–π SSH)

---

---

# BACKLOG-002: –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –ø—Ä—è–º–æ–π SSH –ø–æ–¥ –¢–£–ó

## üìä –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **ID** | BACKLOG-002 |
| **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç** | –ù–∏–∑–∫–∏–π |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å** | –í—ã—Å–æ–∫–∞—è |
| **–°—Ç–∞—Ç—É—Å** | ‚è≥ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ |
| **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** | BACKLOG-001 (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) |
| **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è** | November 19, 2024 |
| **–ü–ª–∞–Ω–æ–≤–∞—è –¥–∞—Ç–∞** | TBD |

---

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–ø–æ—Å–ª–µ BACKLOG-001)

```
Jenkins Pipeline (SSH key –¥–ª—è mvp_dev)
    ‚Üì
SSH ‚Üí mvp_dev@server (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
    ‚Üì
sudo -u {KAE_STEND}-lnx-mon_ci (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –¢–£–ó)
    ‚Üì
sudo -u {KAE_STEND}-lnx-mon_sys -g {KAE_STEND}-lnx-mon_sys (–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç –°–£–ó)
```

### –ü—Ä–æ–±–ª–µ–º—ã —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç `mvp_dev`:**
   - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–∞–∫ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –∑–≤–µ–Ω–æ
   - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å sudo
   - –ú–µ–Ω–µ–µ –æ—á–µ–≤–∏–¥–Ω–∞—è —Å–≤—è–∑—å "Jenkins ‚Üí —Å—Ç–µ–Ω–¥"

2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ credentials:**
   - –û–¥–∏–Ω SSH –∫–ª—é—á –¥–ª—è –≤—Å–µ—Ö —Å—Ç–µ–Ω–¥–æ–≤ (`mvp_dev`)
   - –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–æ–∑–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å—Ç–µ–Ω–¥–∞

3. **Audit trail:**
   - –ù–µ–ø–æ–Ω—è—Ç–Ω–æ, –∫–∞–∫–æ–π —Å—Ç–µ–Ω–¥ –≤—ã–ø–æ–ª–Ω—è–ª –¥–µ–π—Å—Ç–≤–∏–µ (–≤—Å–µ —á–µ—Ä–µ–∑ `mvp_dev`)

### –¶–µ–ª–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–ò–¥–µ–∞–ª—å–Ω–∞—è)

```
Jenkins Pipeline (SSH key –¥–ª—è {KAE_STEND}-lnx-mon_ci)
    ‚Üì
SSH ‚Üí {KAE_STEND}-lnx-mon_ci@server (–ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥ –¢–£–ó)
    ‚Üì
sudo -u {KAE_STEND}-lnx-mon_sys -g {KAE_STEND}-lnx-mon_sys (–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç –°–£–ó)
```

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
ssh -i ci10742292_key CI10742292-lnx-mon_ci@server "sudo -u CI10742292-lnx-mon_sys -g CI10742292-lnx-mon_sys mkdir -p /dev/shm/monitoring_secrets"
```

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

1. **–ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥ –Ω—É–∂–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:**
   - –û–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å sudo –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö
   - –ù–µ—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ –∑–≤–µ–Ω–∞ (`mvp_dev`)

2. **–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ: –æ–¥–Ω–∞ —Ä–æ–ª—å = –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
   - Jenkins ‚Üí CI_USER ‚Üí SYS_USER
   - –ü–æ–Ω—è—Ç–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

3. **–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –£–ó:**
   - –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `mvp_dev`
   - –ö–∞–∂–¥—ã–π —Å—Ç–µ–Ω–¥ –∏–º–µ–µ—Ç —Å–≤–æ–π SSH –∫–ª—é—á

4. **–ì—Ä–∞–Ω—É–ª—è—Ä–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º:**
   - –ú–æ–∂–Ω–æ –æ—Ç–æ–∑–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å—Ç–µ–Ω–¥–∞
   - –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ —Å—Ç–µ–Ω–¥—ã

5. **–õ—É—á—à–∏–π audit trail:**
   - –°—Ä–∞–∑—É –≤–∏–¥–Ω–æ: `CI10742292-lnx-mon_ci ‚Üí CI10742292-lnx-mon_sys`
   - –ü–æ–Ω—è—Ç–Ω–æ, –∫–∞–∫–æ–π —Å—Ç–µ–Ω–¥ –≤—ã–ø–æ–ª–Ω—è–ª –¥–µ–π—Å—Ç–≤–∏–µ

---

## üìù –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –°–æ–∑–¥–∞–Ω–∏–µ SSH –∫–ª—é—á–µ–π –¥–ª—è –¢–£–ó (IDM)

**–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç–µ–Ω–¥–∞:**

1. **–ó–∞–ø—Ä–æ—Å–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ SSH –∫–ª—é—á–∞ –≤ IDM** –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `{KAE_STEND}-lnx-mon_ci`
   - –¢–∏–ø –∫–ª—é—á–∞: RSA 4096 –∏–ª–∏ ED25519
   - –ë–µ–∑ passphrase (–¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏)
   
2. **–ü–æ–ª—É—á–∏—Ç—å:**
   - –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (–¥–ª—è Jenkins)
   - –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á (–¥–ª—è `authorized_keys`)

3. **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –≤ Jenkins Credentials:**
   - Credential ID: `ssh-key-{KAE_STEND}-ci`
   - –¢–∏–ø: SSH Username with private key
   - Username: `{KAE_STEND}-lnx-mon_ci`

**–ü—Ä–∏–º–µ—Ä –¥–ª—è —Å—Ç–µ–Ω–¥–∞ CI10742292:**
```
Credential ID: ssh-key-CI10742292-ci
Username: CI10742292-lnx-mon_ci
Private Key: (paste from IDM)
```

**–í—Ä–µ–º—è:** ~20 –º–∏–Ω—É—Ç –Ω–∞ —Å—Ç–µ–Ω–¥ + —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ IDM

---

### –≠—Ç–∞–ø 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ authorized_keys –Ω–∞ —Ü–µ–ª–µ–≤—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö

**–û–ø—Ü–∏—è A: –í—Ä—É—á–Ω—É—é (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)**

```bash
# SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∫–∞–∫ root –∏–ª–∏ admin
sudo -i

# –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é .ssh –¥–ª—è –¢–£–ó
mkdir -p /home/CI10742292-lnx-mon_ci/.ssh
chmod 700 /home/CI10742292-lnx-mon_ci/.ssh

# –î–æ–±–∞–≤–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á
cat >> /home/CI10742292-lnx-mon_ci/.ssh/authorized_keys << 'EOF'
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC... (–ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –∏–∑ IDM)
EOF

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∞
chmod 600 /home/CI10742292-lnx-mon_ci/.ssh/authorized_keys
chown -R CI10742292-lnx-mon_ci:CI10742292-lnx-mon_ci /home/CI10742292-lnx-mon_ci/.ssh
```

**–û–ø—Ü–∏—è B: –ß–µ—Ä–µ–∑ RLM (–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è)**

1. –°–æ–∑–¥–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π RLM –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è SSH –∫–ª—é—á–∞
2. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `{KAE_STEND}-lnx-mon_ci`
   - –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á: (–∏–∑ IDM)
   - –¶–µ–ª–µ–≤—ã–µ —Å–µ—Ä–≤–µ—Ä—ã: —Å–µ—Ä–≤–µ—Ä—ã —Å—Ç–µ–Ω–¥–∞
3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫–æ –≤—Å–µ–º —Å–µ—Ä–≤–µ—Ä–∞–º —Å—Ç–µ–Ω–¥–∞

**–í—Ä–µ–º—è:** ~10 –º–∏–Ω—É—Ç –Ω–∞ —Å—Ç–µ–Ω–¥ (RLM) –∏–ª–∏ ~5 –º–∏–Ω—É—Ç/—Å–µ—Ä–≤–µ—Ä (–≤—Ä—É—á–Ω—É—é)

---

### –≠—Ç–∞–ø 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Jenkinsfile

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö Pipeline:**

```groovy
parameters {
    // ...
    
    // –ó–ê–ú–ï–ù–ò–¢–¨:
    string(name: 'SSH_CREDENTIALS_ID', defaultValue: 'ssh-mvp-dev', description: '...')
    
    // –ù–ê:
    string(
        name: 'SSH_CREDENTIALS_ID', 
        defaultValue: '', 
        description: 'SSH Credentials ID –¥–ª—è –¢–£–ó (—Ñ–æ—Ä–º–∞—Ç: ssh-key-{KAE_STEND}-ci). –ï—Å–ª–∏ –ø—É—Å—Ç–æ - –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ'
    )
}
```

**–õ–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è SSH Credentials:**

```groovy
stage('–í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤') {
    steps {
        script {
            // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ KAE_STEND
            def namespaceParts = params.NAMESPACE_CI.split('_')
            env.KAE_STEND = namespaceParts[-1]
            
            // –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ SSH Credentials ID
            if (params.SSH_CREDENTIALS_ID == '') {
                env.SSH_CREDENTIALS_ID = "ssh-key-${env.KAE_STEND}-ci"
                echo "‚úì SSH Credentials ID –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω: ${env.SSH_CREDENTIALS_ID}"
            } else {
                env.SSH_CREDENTIALS_ID = params.SSH_CREDENTIALS_ID
                echo "‚úì SSH Credentials ID –∑–∞–¥–∞–Ω –≤—Ä—É—á–Ω—É—é: ${env.SSH_CREDENTIALS_ID}"
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è credentials
            try {
                withCredentials([sshUserPrivateKey(credentialsId: env.SSH_CREDENTIALS_ID, keyFileVariable: 'TEST_KEY')]) {
                    echo "‚úì SSH Credentials –Ω–∞–π–¥–µ–Ω—ã –∏ –¥–æ—Å—Ç—É–ø–Ω—ã"
                }
            } catch (Exception e) {
                error """
                ‚ùå –û–®–ò–ë–ö–ê: SSH Credentials –Ω–µ –Ω–∞–π–¥–µ–Ω—ã!
                
                –û–∂–∏–¥–∞–µ–º—ã–π Credentials ID: ${env.SSH_CREDENTIALS_ID}
                
                –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
                1. Credentials —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ Jenkins
                2. –£ –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
                3. –ò–º—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç—É: ssh-key-{KAE_STEND}-ci
                
                –ò–ª–∏ —É–∫–∞–∂–∏—Ç–µ Credentials ID –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä SSH_CREDENTIALS_ID.
                """
            }
        }
    }
}
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ SSH –∫–æ–º–∞–Ω–¥:**

```diff
- ssh -i "${SSH_KEY}" -o StrictHostKeyChecking=no "${SSH_USER}@${params.SERVER_ADDRESS}" \
-     "sudo -u ${env.USER_CI} sudo -u ${env.USER_SYS} -g ${env.USER_SYS} mkdir -p /dev/shm/monitoring_secrets"

+ ssh -i "${SSH_KEY}" -o StrictHostKeyChecking=no "${env.USER_CI}@${params.SERVER_ADDRESS}" \
+     "sudo -u ${env.USER_SYS} -g ${env.USER_SYS} mkdir -p /dev/shm/monitoring_secrets"
```

**–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
1. `${SSH_USER}` ‚Üí `${env.USER_CI}` (–ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥ –¢–£–ó)
2. –£–±—Ä–∞–Ω –ø–µ—Ä–≤—ã–π —É—Ä–æ–≤–µ–Ω—å `sudo -u ${env.USER_CI}` (—É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –ø–æ–¥ –Ω–∏–º)
3. –û—Å—Ç–∞–ª—Å—è –æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å `sudo -u ${env.USER_SYS} -g ${env.USER_SYS}`

**–í—Å–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:** ~9 –∫–æ–º–∞–Ω–¥ (—Ç–µ –∂–µ –º–µ—Å—Ç–∞, —á—Ç–æ –≤ BACKLOG-001)

---

### –≠—Ç–∞–ø 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

1. **–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Å—Ç–µ–Ω–¥** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `TEST123456`)
2. **–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å SSH –∫–ª—é—á** –¥–ª—è `TEST123456-lnx-mon_ci`
3. **–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∫–ª—é—á** –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä
4. **–î–æ–±–∞–≤–∏—Ç—å credentials** –≤ Jenkins (ID: `ssh-key-TEST123456-ci`)
5. **–ó–∞–ø—É—Å—Ç–∏—Ç—å Pipeline** —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `NAMESPACE_CI=TEST_TEST123456`
6. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
   - SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞–ø—Ä—è–º—É—é –ø–æ–¥ –¢–£–ó
   - –°–æ–∑–¥–∞–Ω–∏–µ `/dev/shm/monitoring_secrets`
   - –ü–µ—Ä–µ–¥–∞—á–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤
   - –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Ansible
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

**Expected behavior:**
```
‚úì SSH Credentials ID –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω: ssh-key-TEST123456-ci
‚úì SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: TEST123456-lnx-mon_ci@test-server
‚úì –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤ –æ—Ç –°–£–ó
‚úì –ü–µ—Ä–µ–¥–∞—á–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤
‚úì –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
```

**–†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ SSH:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
ssh -i ~/.ssh/ci10742292_key CI10742292-lnx-mon_ci@server

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å sudo –ø—Ä–∞–≤–∞
sudo -l

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç –°–£–ó
sudo -u CI10742292-lnx-mon_sys -g CI10742292-lnx-mon_sys whoami
# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥: CI10742292-lnx-mon_sys
```

---

### –≠—Ç–∞–ø 5: –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:**

1. **–§–∞–∑–∞ 1 (1-2 –Ω–µ–¥–µ–ª–∏):** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –æ–¥–Ω–æ–º —Å—Ç–µ–Ω–¥–µ
2. **–§–∞–∑–∞ 2 (1 –º–µ—Å—è—Ü):** –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö —Å—Ç–µ–Ω–¥–æ–≤ –Ω–∞ –ø—Ä—è–º–æ–π SSH
3. **–§–∞–∑–∞ 3 (2-3 –º–µ—Å—è—Ü–∞):** –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç–µ–Ω–¥–æ–≤
4. **–§–∞–∑–∞ 4:** –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç `mvp_dev`

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞:**
- –í—Å–µ –Ω–æ–≤—ã–µ —Å—Ç–µ–Ω–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä—è–º–æ–π SSH
- 80%+ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç–µ–Ω–¥–æ–≤ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
- Jenkins Pipeline –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ (backward compatibility)

**Backward compatibility:**
```groovy
// –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä–æ–≥–æ SSH_CREDENTIALS_ID (mvp_dev)
if (params.SSH_CREDENTIALS_ID == 'ssh-mvp-dev') {
    echo "‚ö†Ô∏è  –£–°–¢–ê–†–ï–í–®–ò–ô –†–ï–ñ–ò–ú: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è mvp_dev"
    echo "    –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø—Ä—è–º–æ–π SSH (—Å–º. BACKLOG.md)"
    // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—É—é –ª–æ–≥–∏–∫—É —Å –¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—ã–º sudo
} else {
    echo "‚úì –ù–û–í–´–ô –†–ï–ñ–ò–ú: –ü—Ä—è–º–æ–π SSH –ø–æ–¥ –¢–£–ó"
    // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É —Å –æ–¥–Ω–∏–º —É—Ä–æ–≤–Ω–µ–º sudo
}
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏

### –î–ª—è DevOps –∫–æ–º–∞–Ω–¥—ã

**–°–æ–∑–¥–∞—Ç—å:** `docs/SSH_DIRECT_MIGRATION_GUIDE.md`

–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é SSH –∫–ª—é—á–µ–π –≤ IDM
- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è `authorized_keys`
- –ß–µ–∫–ª–∏—Å—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ —Å—Ç–µ–Ω–¥–∞
- Troubleshooting

### –î–ª—è –∫–æ–º–∞–Ω–¥—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**–û–±–Ω–æ–≤–∏—Ç—å:** `docs/SECURITY_ARCHITECTURE.md`

–î–æ–±–∞–≤–∏—Ç—å:
- –û–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- Audit trail –¥–ª—è –ø—Ä—è–º–æ–≥–æ SSH
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

---

## üöß –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-------------|---------|-----------|
| –ü–æ—Ç–µ—Ä—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ SSH –∫–ª—é—á–∞ | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ Jenkins Credentials —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º, backup |
| –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `authorized_keys` | –í—ã—Å–æ–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ RLM, —á–µ–∫–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ |
| Credentials –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ Jenkins | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω–µ–µ | –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ + fallback –Ω–∞ —Ä—É—á–Ω–æ–π –≤–≤–æ–¥ |
| –ö–æ–Ω—Ñ–ª–∏–∫—Ç –º–µ–∂–¥—É —Å—Ç–∞—Ä–æ–π –∏ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–µ–π | –ù–∏–∑–∫–∞—è | –í—ã—Å–æ–∫–æ–µ | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ backward compatibility –≤ Jenkinsfile |
| –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ SSH | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ dev-—Å—Ç–µ–Ω–¥–µ, rollback plan |

---

## üîÑ Rollback –ø–ª–∞–Ω

**–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:**

1. **–í–µ—Ä–Ω—É—Ç—å —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é Jenkinsfile:**
   ```bash
   git revert <commit-hash>
   git push
   ```

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–π SSH_CREDENTIALS_ID** (`ssh-mvp-dev` –∏–ª–∏ `ssh-key-{STEND}-ci` —Å –¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—ã–º sudo)

3. **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–æ–≤—ã–µ SSH –∫–ª—é—á–∏** –¥–ª—è –±—É–¥—É—â–µ–π –º–∏–≥—Ä–∞—Ü–∏–∏

**–í—Ä–µ–º—è rollback:** < 5 –º–∏–Ω—É—Ç (–ø—Ä–æ—Å—Ç–æ –æ—Ç–∫–∞—Ç–∏—Ç—å commit –≤ Git)

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –º–∏–≥—Ä–∞—Ü–∏–∏

- [ ] SSH –∫–ª—é—á–∏ —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è –≤—Å–µ—Ö —Ü–µ–ª–µ–≤—ã—Ö —Å—Ç–µ–Ω–¥–æ–≤
- [ ] `authorized_keys` —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã –Ω–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö
- [ ] Credentials –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ Jenkins
- [ ] Jenkinsfile –æ–±–Ω–æ–≤–ª–µ–Ω —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- [ ] Backward compatibility —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ (`SSH_DIRECT_MIGRATION_GUIDE.md`)
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–π–¥–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ –Ω–∞ dev-—Å—Ç–µ–Ω–¥–µ
- [ ] –ü–ª–∞–Ω rollback –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω
- [ ] –ö–æ–º–∞–Ω–¥–∞ –æ–±—É—á–µ–Ω–∞ –Ω–æ–≤–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É

---

## üéâ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
- ‚úÖ –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥ –¢–£–ó (–±–µ–∑ `mvp_dev`)
- ‚úÖ –û–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å sudo –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö
- ‚úÖ –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ: –æ–¥–Ω–∞ —Ä–æ–ª—å = –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- ‚úÖ –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –£–ó
- ‚úÖ –ì—Ä–∞–Ω—É–ª—è—Ä–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º (–æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª—é—á –Ω–∞ —Å—Ç–µ–Ω–¥)
- ‚úÖ –õ—É—á—à–∏–π audit trail
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ best practices Enterprise –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ –º–∏–≥—Ä–∞—Ü–∏—é:** DevOps Team Lead  
**–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ SSH –∫–ª—é—á–∞–º:** IDM Support  
**–í–æ–ø—Ä–æ—Å—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** Security Team

---

## üìÖ –ü–ª–∞–Ω–æ–≤—ã–µ –¥–∞—Ç—ã

| –≠—Ç–∞–ø | –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ | –î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è | –°—Ç–∞—Ç—É—Å |
|------|-------------|-----------------|--------|
| –°–æ–∑–¥–∞–Ω–∏–µ SSH –∫–ª—é—á–µ–π | TBD | TBD | ‚è≥ –ù–µ –Ω–∞—á–∞—Ç–æ |
| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ authorized_keys | TBD | TBD | ‚è≥ –ù–µ –Ω–∞—á–∞—Ç–æ |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Jenkinsfile | TBD | TBD | ‚è≥ –ù–µ –Ω–∞—á–∞—Ç–æ |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Pilot) | TBD | TBD | ‚è≥ –ù–µ –Ω–∞—á–∞—Ç–æ |
| –ú–∏–≥—Ä–∞—Ü–∏—è (Production) | TBD | TBD | ‚è≥ –ù–µ –Ω–∞—á–∞—Ç–æ |
| –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ | TBD | TBD | ‚è≥ –ù–µ –Ω–∞—á–∞—Ç–æ |

---

---

## üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–µ–∫—É—â–∏–π (–í–∞—Ä–∏–∞–Ω—Ç B) | BACKLOG-001 (–í–∞—Ä–∏–∞–Ω—Ç A) | BACKLOG-002 (–ò–¥–µ–∞–ª—å–Ω—ã–π) |
|----------|---------------------|-------------------------|-------------------------|
| **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** | mvp_dev ‚Üí SYS_USER | mvp_dev ‚Üí CI_USER ‚Üí SYS_USER | CI_USER ‚Üí SYS_USER |
| **–£—Ä–æ–≤–Ω–µ–π sudo** | 1 | 2 | 1 |
| **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç mvp_dev** | ‚úÖ –ï—Å—Ç—å | ‚úÖ –ï—Å—Ç—å | ‚ùå –ù–µ—Ç |
| **Sudoers –¥–ª—è –¢–£–ó** | ‚ùå –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è | ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è | ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| **SSH –∫–ª—é—á –Ω–∞ —Å—Ç–µ–Ω–¥** | ‚ùå –ù–µ—Ç | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |
| **Audit trail** | ‚ö†Ô∏è –°—Ä–µ–¥–Ω–∏–π | ‚úÖ –•–æ—Ä–æ—à–∏–π | ‚úÖ –û—Ç–ª–∏—á–Ω—ã–π |
| **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–º–æ—á–∏–π** | ‚ö†Ô∏è –°—Ä–µ–¥–Ω–µ–µ | ‚úÖ –•–æ—Ä–æ—à–µ–µ | ‚úÖ –û—Ç–ª–∏—á–Ω–æ–µ |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏** | ‚úÖ –ù–∏–∑–∫–∞—è | ‚ö†Ô∏è –°—Ä–µ–¥–Ω—è—è | ‚ùå –í—ã—Å–æ–∫–∞—è |
| **–í—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏** | ‚úÖ 0 –º–∏–Ω—É—Ç (–≥–æ—Ç–æ–≤–æ) | ‚ö†Ô∏è ~1 –Ω–µ–¥–µ–ª—è | ‚ùå ~1 –º–µ—Å—è—Ü |
| **–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è** | –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç, MVP | –ü—Ä–æ–¥–∞–∫—à–Ω (–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞) | Enterprise (–∏–¥–µ–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞) |

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- **–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `SG_TO_SUDO_MIGRATION_SUMMARY.md`
- **–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ sudoers:** `docs/SUDOERS_DEPLOYMENT_GUIDE.md`
- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:** `QUICKSTART_SUDOERS.md`
- **–°–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ sudoers:** `sudoers/generate_sudoers.sh`
- **Templates:** `sudoers/monitoring_ci.template`

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** November 19, 2024  
**–°–ª–µ–¥—É—é—â–∏–π –ø–µ—Ä–µ—Å–º–æ—Ç—Ä:** TBD

---

**‚úÖ –í—Å–µ –∑–∞–¥–∞—á–∏ BACKLOG –¥–µ—Ç–∞–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏!**

