# –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

### 1. –û—à–∏–±–∫–∞: `'when' is not a valid attribute for a Play`
- **–ü—Ä–∏—á–∏–Ω–∞**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `when` –Ω–∞ —É—Ä–æ–≤–Ω–µ play –≤ Ansible 2.9
- **–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∏ –≤—Å–µ `when` —É—Å–ª–æ–≤–∏—è –Ω–∞ —É—Ä–æ–≤–µ–Ω—å tasks
- **–§–∞–π–ª—ã**: `playbooks/deploy_monitoring.yml`

### 2. –û—à–∏–±–∫–∞: `Failed to import the required Python library (rpm)`
- **–ü—Ä–∏—á–∏–Ω–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ Python –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ rpm –Ω–∞ —Ü–µ–ª–µ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ
- **–†–µ—à–µ–Ω–∏–µ**: –ó–∞–º–µ–Ω–∏–ª–∏ `package_facts` –Ω–∞ –∫–æ–º–∞–Ω–¥—É `rpm`
- **–§–∞–π–ª—ã**: `roles/rlm_standard_setup/tasks/main.yml`

### 3. –û—à–∏–±–∫–∞: `Destination directory /etc/prometheus/cert does not exist`
- **–ü—Ä–∏—á–∏–Ω–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π `/etc/prometheus/` –∏ `/etc/grafana/`
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º cert –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- **–§–∞–π–ª—ã**: `roles/rlm_standard_setup/tasks/main.yml`

### 4. –û—à–∏–±–∫–∞: `file is absent, cannot continue`
- **–ü—Ä–∏—á–∏–Ω–∞**: –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å `openssl pkey`
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ —Å–æ–∑–¥–∞–Ω–∏—è
- **–§–∞–π–ª—ã**: `roles/rlm_standard_setup/tasks/main.yml`

## üöÄ –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Jenkins pipeline!

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π RLM —Ä–µ–∂–∏–º:**
```
USE_RLM_STANDARD_SETUP = true
```

**–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–µ–∂–∏–º:**
```
USE_RLM_STANDARD_SETUP = false
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

1. **–°–∏–Ω—Ç–∞–∫—Å–∏—Å Ansible**: `ansible-playbook --syntax-check playbooks/deploy_monitoring.yml`
2. **–¢–µ—Å—Ç RPM –ø—Ä–æ–≤–µ—Ä–∫–∏**: `ansible-playbook -i inventories/dynamic_inventory playbooks/deploy_monitoring.yml --tags check`

## üìã –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

- `playbooks/deploy_monitoring.yml` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã `when` —É—Å–ª–æ–≤–∏—è
- `roles/rlm_standard_setup/tasks/main.yml` - –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- `HOTFIX_README.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- `QUICK_FIX_SUMMARY.md` - —ç—Ç–æ —Ñ–∞–π–ª

–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!
